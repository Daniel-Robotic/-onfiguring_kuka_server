<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-09-30T21:21:54.8624383"><title>Настройка Jetson | Документация для работы с KUKA iiwa и мультикамерной системой</title><script type="application/json" id="virtual-toc-data">[{"id":"iwo7oy_3","level":0,"title":"Подготовительный этап","anchor":"#iwo7oy_3"},{"id":"ubuntu-jetson","level":0,"title":"Установка Ubuntu на Jetson","anchor":"#ubuntu-jetson"},{"id":"nvme-jetson","level":0,"title":"Конфигурация NVME накопителя на Jetson","anchor":"#nvme-jetson"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/robot-logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Настройка Jetson | Документация для работы с KUKA iiwa и мультикамерной системой"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Документация для работы с KUKA iiwa и мультикамерной системой Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/настройка-jetson.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Настройка Jetson | Документация для работы с KUKA iiwa и мультикамерной системой"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/настройка-jetson.html#webpage",
    "url": "writerside-documentation/настройка-jetson.html",
    "name": "Настройка Jetson | Документация для работы с KUKA iiwa и мультикамерной системой",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Документация для работы с KUKA iiwa и мультикамерной системой Help"
}</script><!-- End Schema.org --></head><body data-id="Настройка-Jetson" data-main-title="Настройка Jetson" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="starter.md|Установка необходимых модулей"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Документация для работы с KUKA iiwa и мультикамерной системой  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Настройка-Jetson" id="Настройка-Jetson.md">Настройка Jetson</h1><section class="chapter"><h2 id="iwo7oy_3" data-toc="iwo7oy_3">Подготовительный этап</h2><section class="chapter"><h3 id="iwo7oy_6" data-toc="iwo7oy_6">Перевод устройства в режим принудительного восстановления</h3><p id="iwo7oy_7">Для установки необходимой версии Ubuntu на Jetson, необходимо перевести устройство в режим принудительного восстановления. Для этого необходимо замкнуть два контакта FORCE RECOVERY/RECOVERY и GND, как показано на рисунке ниже.</p><figure id="iwo7oy_8"><img alt="Jetson в режим восстановления" src="images/Jetson_to_restore.png" title="Jetson в режим восстановления" width="1000" height="668"></figure><p id="iwo7oy_9">Для получения более подробной информации обратитесь к документации по оборудованию. Обратите внимание, что этот шаг можно выполнить перед запуском SDK Manager, и это позволит автоматически определить целевое устройство. Кроме того, мы можем вручную выбрать целевое устройство, и нам будет предложено выполнить этот шаг в необходимый момент процесса установки.</p><p id="iwo7oy_10">В нашем случае используются платы Jetson NX, в которые дополнительным модулем помещено NVMe хранилище. Установку системы будем производить на внутреннее хранилище с дальнейшим переключением на NVMe хранилище.</p></section></section><section class="chapter"><h2 id="ubuntu-jetson" data-toc="ubuntu-jetson">Установка Ubuntu на Jetson</h2><section class="chapter"><h3 id="sdk-manager-docker" data-toc="sdk-manager-docker">Установка SDK Manager с использованием Docker</h3><p id="iwo7oy_15">Для установки <a href="https://developer.nvidia.com/sdk-manager" id="iwo7oy_28" data-external="true" rel="noopener noreferrer">SDK Manager</a> потребуется Docker, который был установлен в шаге <a href="настройка-ubuntu-сервера.html" id="iwo7oy_29" data-tooltip="После установки Ubuntu рекомендуется произвести обновление пакетов и самой системы. В терминале вводим следующие команды:">Установка пакетов на Ubuntu</a>.</p><p id="iwo7oy_16">Перейдем на официальный сайт <a href="https://developer.nvidia.com/sdk-manager" id="iwo7oy_30" data-external="true" rel="noopener noreferrer">SDK Manager</a> и выберем интересующий вариант установки.</p><figure id="iwo7oy_17"><img alt="SDK_Manager_download.png" src="images/SDK_Manager_download.png" title="SDK_Manager_download.png" width="1155" height="501"></figure><p id="iwo7oy_18">В нашем случае выбран Docker Image Ubuntu 20.04. После скачивания файла переместим его в корневой каталог нашего Ubuntu сервера. Перенос <code class="code" id="iwo7oy_31">sdkmanager-&lt;version&gt;-&lt;build&gt;.tar.gz</code> можно реализовать разными способами:</p><ul class="list _bullet" id="iwo7oy_19"><li class="list__item" id="iwo7oy_32"><p>Скачать файл сразу с Ubuntu сервера</p></li><li class="list__item" id="iwo7oy_33"><p>Перенос с помощью флешки</p></li><li class="list__item" id="iwo7oy_34"><p>Удаленно с помощью <code class="code" id="iwo7oy_35">scp</code>, <code class="code" id="iwo7oy_36">sftp</code>, <code class="code" id="iwo7oy_37">ftp</code> и т.д.</p></li></ul><p id="iwo7oy_20">В данном руководстве показан процесс переноса с использованием <code class="code" id="iwo7oy_38">scp</code>.</p><p id="iwo7oy_21">Для этого необходимо, чтобы на стороне сервера был настроен <code class="code" id="iwo7oy_39">ssh</code>, как продемонстрировано в шаге <a href="настройка-ubuntu-сервера.html" id="iwo7oy_40" data-tooltip="После установки Ubuntu рекомендуется произвести обновление пакетов и самой системы. В терминале вводим следующие команды:">Установка пакетов на Ubuntu</a></p><p id="iwo7oy_22">В терминале Windows или Linux необходимо ввести:</p><div class="code-block" data-lang="bash">
scp -P 22 C:\Users\&lt;user&gt;\&lt;folder&gt;\sdkmanager-&lt;version&gt;-&lt;build&gt;.tar.gz user@192.168.21.1:/home/&lt;user&gt;
</div><p id="iwo7oy_24">где</p><ul class="list _bullet" id="iwo7oy_25"><li class="list__item" id="iwo7oy_41"><p><code class="code" id="iwo7oy_45">-P 22</code> - обозначает порт удаленного сервера, если вы его не меняли, данную опцию можно убрать</p></li><li class="list__item" id="iwo7oy_42"><p><code class="code" id="iwo7oy_46">C:\Users\&lt;user&gt;\&lt;folder&gt;\sdkmanager-&lt;version&gt;-&lt;build&gt;.tar.gz</code> - полный путь до файла</p></li><li class="list__item" id="iwo7oy_43"><p><code class="code" id="iwo7oy_47">user@192.168.21.1</code> - логин удаленного хоста, а также IP-адрес хоста,</p></li><li class="list__item" id="iwo7oy_44"><p><code class="code" id="iwo7oy_48">:/home/&lt;user&gt;</code> - путь, куда необходимо скопировать файл.</p></li></ul><p id="iwo7oy_26">После этого произведите подключение к удаленному хосту с использованием <code class="code" id="iwo7oy_49">ssh</code>.</p><div class="code-block" data-lang="bash">
ssh user@192.168.21.1 -p 22
</div></section><section class="chapter"><h3 id="sdk-manager" data-toc="sdk-manager">Запуск SDK Manager</h3><p id="iwo7oy_50">Из терминала произведем загрузку образа Docker:</p><div class="code-block" data-lang="bash">
docker load -i ./sdkmanager-[version].[build#]-[base_OS]_docker.tar.gz
</div><p id="iwo7oy_52">Рекомендуется пометить версию как &quot;latest&quot; для удобства использования:</p><div class="code-block" data-lang="bash">
docker tag sdkmanager:[version].[build] sdkmanager:latest
</div><p id="iwo7oy_54">По умолчанию исходный контейнер имеет чистый профиль и локальную базу данных. Это необходимо учитывать при использовании образа и когда сохранять изменения (фиксировать) в новом образе. Это будет зависеть от планов использования контейнера, есть ли план его повторного использования после установки или запуска каждый раз с чистого этапа. Изменяйте свои планы в зависимости от того, планируете ли вы использовать отдельный контейнер для каждого выпуска SDK или уникальный.</p><p id="iwo7oy_55">Для прошивки требуется привилегированный доступ и подключение USB-портов к контейнеру:</p><div class="code-block" data-lang="bash">
--privileged -v /dev/bus/usb:/dev/bus/usb/ -v /dev:/dev -v /media/$USER:/media/nvidia:slave
</div><p id="iwo7oy_57">В зависимости от настроек безопасности локальной сети, вам может потребоваться настроить доступ к локальной сети с помощью <code class="code" id="iwo7oy_61">--network host</code>. Это в первую очередь нужно, если вы хотите взаимодействовать с устройствами Jetson через режим L4T USB Device.</p><p id="iwo7oy_58">Локальным пользователем внутри Docker является nvidia с nvidia в качестве пароля. Домашняя папка &mdash; <code class="code" id="iwo7oy_62">/home/nvidia</code>.</p><p id="iwo7oy_59">ДДля дальнейшей работы необходимо произвести запуск SDK Manager в режиме CLI, для этого выполним следующую команду:</p><div class="code-block" data-lang="bash">
docker run -it --privileged -v /dev/bus/usb:/dev/bus/usb/ -v /dev:/dev -v /media/$USER:/media/nvidia:slave --name JetPack_NX_Devkit --network host sdkmanager --cli
</div></section><section class="chapter"><h3 id="ubuntu" data-toc="ubuntu">Установка Ubuntu</h3><p id="iwo7oy_63">В появившемся окне выбираем тип авторизации <span class="control" id="iwo7oy_101">NVIDIA Developer</span></p><figure id="iwo7oy_64"><img alt="image.png" src="images/Auth_CLI.png" title="image.png" width="1204" height="628"></figure><p id="iwo7oy_65">Сгенерируется QR-код, а также появится ссылка. Выбираем любой понравившийся тип авторизации и авторизуемся на официальном сайте NVIDIA.</p><figure id="iwo7oy_66"><img alt="QR_AUTH" src="images/QR_AUTH.png" title="QR_AUTH" width="1280" height="984"></figure><p id="iwo7oy_67">После авторизации система предложит выбрать, каким образом мы хотим продолжить работу:</p><ul class="list _bullet" id="iwo7oy_68"><li class="list__item" id="iwo7oy_102"><p>Install &mdash; Режим установки</p></li><li class="list__item" id="iwo7oy_103"><p>Download Only &mdash; Скачивание всех необходимых компонентов</p></li><li class="list__item" id="iwo7oy_104"><p>Uninstall &mdash; Удаление системы</p></li></ul><p id="iwo7oy_69">Выбираем режим <span class="control" id="iwo7oy_105">Install</span>. После чего выбираем режим <span class="control" id="iwo7oy_106">Jetson</span>.</p><p id="iwo7oy_70">Далее выбираем, на какой системе будет произведена системная конфигурация, по умолчанию выбрана <span class="control" id="iwo7oy_107">Host Machine</span> и <span class="control" id="iwo7oy_108">Target Hardware</span>.</p><p id="iwo7oy_71">Если вы хотите убрать пункт <span class="control" id="iwo7oy_109">Target Hardware</span>, перемещаем курсор и нажимаем клавишу <span class="control" id="iwo7oy_110">space</span>, для выбора нужного пункта.</p><p id="iwo7oy_72">В случае если <span class="control" id="iwo7oy_111">Target Hardware</span>, не был убран, будет предложено выбрать вашу версию Jetson:</p><figure id="iwo7oy_73"><img alt="choose_jetson_ver.png" src="images/choose_jetson_ver.png" title="choose_jetson_ver.png" width="797" height="265"></figure><p id="iwo7oy_74">Следующим действием выбираем нужную версию JetPack, в нашем случае это <span class="control" id="iwo7oy_112">JetPack 5.1.4</span>.</p><p id="iwo7oy_75">Далее выбираем необходимые модули для установки, выбор осуществляется при помощи клавиши <span class="control" id="iwo7oy_113">space</span>.</p><figure id="iwo7oy_76"><img alt="deep_stream.png" src="images/deep_stream.png" title="deep_stream.png" width="299" height="74"></figure><p id="iwo7oy_77">Если вам необходимо самостоятельно настроить устанавливаемые пакеты, в вопросе: &quot; <span class="control" id="iwo7oy_114">Do you want to customize the install settings?</span> &quot; прописываем <span class="control" id="iwo7oy_115">y</span>.</p><figure id="iwo7oy_78"><img alt="choose_packages.png" src="images/choose_packages.png" title="choose_packages.png" width="857" height="161"></figure><p id="iwo7oy_79">Соглашаемся с загрузкой системы на Jetson.</p><p> <img alt="flash_jetson.png" src="images/flash_jetson.png" class="inline-icon-" title="flash_jetson.png" id="iwo7oy_80" width="543" height="30"></p><p id="iwo7oy_81">Пакет установки оставляем по умолчанию. <span class="control" id="iwo7oy_116">Target HW image folder</span> также оставляем по умолчанию.</p><p id="iwo7oy_82">Далее будет предложено ознакомиться со всеми лицензиями, чтобы согласиться со всем сразу, выбираем второй пункт меню.</p><p id="iwo7oy_83">Далее производится скачивание необходимых пакетов в систему с последующей установкой системы на Jetson.</p><figure id="iwo7oy_84"><img alt="image.png" src="images/Download_and_Install_packages.png" title="image.png" width="1244" height="934"></figure><p id="iwo7oy_85">Когда все пакеты будут установлены, появится дополнительное окно, в котором выбираем пункт загрузки системы на Jetson.</p><figure id="iwo7oy_86"><img alt="continue_flash.png" src="images/continue_flash.png" title="continue_flash.png" width="624" height="343"></figure><p id="iwo7oy_87">Далее будут выведены все подключенные устройства, выбираем нужное.</p><figure id="iwo7oy_88"><img alt="devices.png" src="images/devices.png" title="devices.png" width="622" height="341"></figure><p id="iwo7oy_89"><span class="control" id="iwo7oy_117">OEM Configuration</span> выбираем <span class="control" id="iwo7oy_118">Pre-Config</span></p><p id="iwo7oy_90">В поле <span class="control" id="iwo7oy_119">New Username</span>: прописываем новое имя пользователя В поле <span class="control" id="iwo7oy_120">New Password</span>: прописываем пароль</p><figure id="iwo7oy_91"><img alt="user_pass.png" src="images/user_pass.png" title="user_pass.png" width="623" height="341"></figure><p id="iwo7oy_92">Далее будет предложено выбрать устройство, на которое будет производиться установка системы. В нашем случае выбирается <span class="control" id="iwo7oy_121">EMMC/SD Card</span></p><figure id="iwo7oy_93"><img alt="storage.png" src="images/storage.png" title="storage.png" width="620" height="345"></figure><p id="iwo7oy_94">После выбора устройства хранения будет производиться запись системы на ваш Jetson.</p><p id="iwo7oy_95">После полной установки появится дополнительное диалоговое окно, в котором выбираем пункт <span class="control" id="iwo7oy_122">Skip</span> и выходим с SDK Manager CLI.</p><figure id="iwo7oy_96"><img alt="end_install.png" src="images/end_install.png" title="end_install.png" width="620" height="344"></figure><p id="iwo7oy_97">Если у вас имеется несколько Jetson, которые необходимо настроить, сохраним сконфигурированный Docker образ:</p><div class="code-block" data-lang="bash">
docker commit JetPack_NX_Devkit jetpack_nx_devkit:download
docker container rm  JetPack_NX_Devkit
</div><p id="iwo7oy_99">Последующие запуски, без необходимости заново производить скачивание всех пакетов, выполняются при помощи команды:</p><div class="code-block" data-lang="bash">
docker run -it --rm --privileged -v /dev/bus/usb:/dev/bus/usb/ jetpack_nx_devkit:download
</div></section><section class="chapter"><h3 id="iwo7oy_14" data-toc="iwo7oy_14">Известные проблемы</h3><p id="iwo7oy_123">При установке JetPack SDK с помощью образа Docker SDK Manager сначала необходимо установить <code class="code" id="iwo7oy_129">qemu-user-static</code> и <code class="code" id="iwo7oy_130">binfmt-support</code> на хост-машине, а затем выполнить следующую команду на хост-машине:</p><div class="code-block" data-lang="bash">
sudo update-binfmts --enable
</div><p id="iwo7oy_125">Без выполнения этих действий вы получите следующую ошибку во время установки из компонента Файловая система и ОС:</p><div class="code-block" data-lang="bash">
'dpkg': Exec format error
</div><p id="iwo7oy_127">При установке SDK DRIVE с помощью образа Docker диспетчера SDK перепрошивка целевого объекта может завершиться ошибкой, если ADB запущен на хост-компьютере. Обязательно остановите ADB перед миганием, используя следующую команду на вашем хост-компьютере:</p><div class="code-block" data-lang="bash">
sudo killall adb
</div></section></section><section class="chapter"><h2 id="nvme-jetson" data-toc="nvme-jetson">Конфигурация NVME накопителя на Jetson</h2><p id="iwo7oy_131">...</p></section><div class="last-modified">Last modified: 30 сентября 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="вспомогательные-инструменты-для-работы-с-системой.html" class="navigation-links__prev">Вспомогательные инструменты для работы с системой</a><a href="инструменты.html" class="navigation-links__next">Инструменты</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.js"></script></body></html>